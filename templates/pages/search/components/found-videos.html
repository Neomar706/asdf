{% load humanize %}
{% load truncate %}
{% load durationformat %}

{% if videos.count %}
{% for video in videos %}
<div class="mt-4 relative group/actions">
    <a href="{% url 'watch:watch-video' pk=video.pk %}" class="flex">
        <div class="w-[22.5rem] h-[12.625rem] shrink-0 rounded-lg overflow-hidden relative">
            <img class="w-full h-full object-cover" src="/media/{{ video.thumbnail }}" alt="{{ video.title }}">
            <span class='absolute right-1 bottom-0.5 px-1.5 leading-6 rounded-md bg-black/75 text-sm select-none'>
                {{ video.duration|durationformat }}
            </span>
        </div>
        <div class="ml-4">
            <h3 class="text-lg pr-6 leading-5 [font-weight:500]">
                {{ video.title }}
            </h3>
            <p class="text-zinc-400  text-[.9rem]">
                <span class="leading-3">
                    {{ video.views.count }} vistas • 
                </span>
                <span class="leading-3">
                    {{ video.created_at|naturaltime }}
                </span>
            </p>
            <div class="relative group mt-14">
                <p class="text-zinc-400 text-[.9rem] leading-5">
                    {{ video.description|truncate:150 }}
                </p>
                <div class="inline-block absolute left-1/2 -translate-x-1/2 mt-2 h 12 text-xs bg-cgray-600 font-semibold p-2 rounded-md opacity-0 group-hover:opacity-100 transition-all ease-in-out delay-75 select-none">
                    De la descripción del video
                </div>
            </div>
            {% if video.created_at > deltadate %}
            <div class="mt-4">
                <span class="bg-cgray-700 px-2 py-1 rounded-md text-xs font-semibold text-zinc-300">
                    Nuevo
                </span>
            </div>
            {% endif %}
        </div>
    </a>
    <a href="{% url 'channel:main' user=video.channel.user.username tab='main' %}" class="absolute left-[23.5rem] top-[4.3rem] flex items-center group">
        <div class="rounded-full overflow-hidden w-6 h-6">
            <img src="{{ video.channel.avatar }}" alt="">
        </div>
        <div class="text-xs font-semibold ml-2 text-zinc-400 group-hover:text-white">
            {{ video.channel.name }}
        </div>
    </a>
    <div class="absolute right-0 top-0">
        <div x-data="{open: false}" class="relative">
            <button @click="open = true" class=" w-6 h-6 hidden group-hover/actions:inline-block">
                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                    <path fill="white" d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path>
                </svg>
            </button>
            <div x-show="open" @click.away="open = false" class="absolute top-8 right-0 bg-cgray-800 rounded-md z-10 w-64">
                <div class="my-2">
                    <button class='flex px-4 py-2 w-full hover:bg-cgray-600'>
                        <div class='w-6 h-6 shrink-0'>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                                <path fill="white" d="M21 16h-7v-1h7v1zm0-5H9v1h12v-1zm0-4H3v1h18V7zm-11 8-7-4v8l7-4z"></path>
                            </svg>
                        </div>
                        <span class='ml-4'>Agregar a la fila</span>
                    </button>
                    <button class='flex px-4 py-2 w-full hover:bg-cgray-600'>
                        <div class='w-6 h-6 shrink-0'>
                            <svg height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                                <path fill='white' d="M14.97 16.95 10 13.87V7h2v5.76l4.03 2.49-1.06 1.7zM12 3c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9m0-1c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2z"></path>
                            </svg>
                        </div>
                        <span class='ml-4'>Guardar en Ver más tarde</span>
                    </button>
                    <button class='flex px-4 py-2 w-full hover:bg-cgray-600'>
                        <div class='w-6 h-6 shrink-0'>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                                <path fill="white" d="M22 13h-4v4h-2v-4h-4v-2h4V7h2v4h4v2zm-8-6H2v1h12V7zM2 12h8v-1H2v1zm0 4h8v-1H2v1z"></path>
                            </svg>
                        </div>
                        <span class='ml-4'>Guardar en una playlist</span>
                    </button>
                    <button class='flex px-4 py-2 w-full hover:bg-cgray-600'>
                        <div class='w-6 h-6 shrink-0'>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                                <path fill="white" d="M17 18v1H6v-1h11zm-.5-6.6-.7-.7-3.8 3.7V4h-1v10.4l-3.8-3.8-.7.7 5 5 5-4.9z"></path>
                            </svg>
                        </div>
                        <span class='ml-4'>Descargar</span>
                    </button>
                    <button class='flex px-4 py-2 w-full hover:bg-cgray-600'>
                        <div class='w-6 h-6 shrink-0'>
                            <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
                                <path fill="white" d="M15 5.63 20.66 12 15 18.37V14h-1c-3.96 0-7.14 1-9.75 3.09 1.84-4.07 5.11-6.4 9.89-7.1l.86-.13V5.63M14 3v6C6.22 10.13 3.11 15.33 2 21c2.78-3.97 6.44-6 12-6v6l8-9-8-9z"></path>
                            </svg>
                        </div>
                        <span class='ml-4'>Compartir</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endfor %}
{% endif %}





























{% comment %} 
<div class="mt-4 relative group/actions">
    <a href="##" class="flex">
        <div class="w-[22.5rem] h-[12.625rem] shrink-0 rounded-lg overflow-hidden">
            <img class="w-full h-full object-cover" src="https://i.ytimg.com/vi/MSq_DCRxOxw/hq720.jpg?sqp=-oaymwEcCOgCEMoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLAzsIH5m_gr1QTaDFNOTgrD7Cr7Hg" alt="Thumbnail Title">
        </div>
        <div class="ml-4">
            <h3 class="text-lg [font-weight:500]">
                This is the Only Right Way to Write React clean-code - SOLID
            </h3>
            <p class="text-zinc-400  text-[.9rem]">
                <span class="leading-3">
                    8 k vistas • 
                </span>
                <span class="leading-3">
                    hace 7 meses
                </span>
            </p>
            <div class="relative group mt-14">
                <p class="text-zinc-400 text-[.9rem] leading-5">
                    You should follow these 5 SOLID React Principles to write readable, maintainable and testable code. In this tutorial, we'll explore .
                </p>
                <div class="inline-block absolute left-1/2 -translate-x-1/2 mt-2 h 12 text-xs bg-cgray-600 font-semibold p-2 rounded-md opacity-0 group-hover:opacity-100 transition-all ease-in-out delay-75 select-none">
                    De la descripción del video
                </div>
            </div>
            <div class="mt-4">
                <span class="bg-cgray-700 px-2 py-1 rounded-md text-xs font-semibold text-zinc-300">
                    Nuevo
                </span>
            </div>
        </div>
    </a>
    <a href="#" class="absolute left-[23.5rem] top-[4rem] flex items-center group">
        <div class="rounded-full overflow-hidden w-6 h-6">
            <img src="https://yt3.ggpht.com/ytc/APkrFKa0N9RzK0nTZHPK1XWixpJNq-1HLFW_EZcnGQpdAQ=s68-c-k-c0x00ffffff-no-rj" alt="">
        </div>
        <div class="text-xs font-semibold ml-2 text-zinc-400 group-hover:text-white">
            CoderOne
        </div>
    </a>
    <button @click="alert('SI FUNCIONA')" class="absolute right-0 top-0 w-6 h-6 mt-2 hidden group-hover/actions:inline-block">
        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
            <path fill="white" d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path>
        </svg>
    </button>
</div>



<div class="mt-4 relative group/actions">
    <a href="##" class="flex">
        <div class="w-[22.5rem] h-[12.625rem] shrink-0 rounded-lg overflow-hidden">
            <img class="w-full h-full object-cover" src="https://i.ytimg.com/vi/tv17UPWDh2M/hq720.jpg?sqp=-oaymwEcCOgCEMoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLCsgZX-7XHalL8Kd81raj69yJnpRw" alt="Thumbnail Title">
        </div>
        <div class="ml-4">
            <h3 class="text-lg [font-weight:500]">
                4 cosas a EVITAR en TypeScript + 1 en JavaScript (¡Pero no estoy de acuerdo en todas!)
            </h3>
            <p class="text-zinc-400  text-[.9rem]">
                <span class="leading-3">
                    6 k vistas • 
                </span>
                <span class="leading-3">
                    hace 3 meses
                </span>
            </p>
            <div class="relative group mt-14">
                <p class="text-zinc-400 text-[.9rem] leading-5">
                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint odio tempore officiis, impedit, rerum vel voluptas nam, aperiam o
                </p>
                <div class="inline-block absolute left-1/2 -translate-x-1/2 mt-2 h 12 text-xs bg-cgray-600 font-semibold p-2 rounded-md opacity-0 group-hover:opacity-100 transition-all ease-in-out delay-75 select-none">
                    De la descripción del video
                </div>
            </div>
            <div class="mt-4">
                <span class="bg-cgray-700 px-2 py-1 rounded-md text-xs font-semibold text-zinc-300">
                    Nuevo
                </span>
            </div>
        </div>
    </a>
    <a href="#" class="absolute left-[23.5rem] top-[4rem] flex items-center group">
        <div class="rounded-full overflow-hidden w-6 h-6">
            <img src="https://yt3.ggpht.com/ytc/APkrFKaw4jjDiPcfvYFU3qOeeeuI-TGNYLWW6D31EJp8=s68-c-k-c0x00ffffff-no-rj" alt="">
        </div>
        <div class="text-xs font-semibold ml-2 text-zinc-400 group-hover:text-white">
            midudev
        </div>
    </a>
    <button @click="alert('SI FUNCIONA')" class="absolute right-0 top-0 w-6 h-6 mt-2 hidden group-hover/actions:inline-block">
        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
            <path fill="white" d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path>
        </svg>
    </button>
</div>



<div class="mt-4 relative group/actions">
    <a href="##" class="flex">
        <div class="w-[22.5rem] h-[12.625rem] shrink-0 rounded-lg overflow-hidden">
            <img class="w-full h-full object-cover" src="https://i.ytimg.com/vi/s5jPwPZrJhw/hq720.jpg?sqp=-oaymwEcCOgCEMoBSFXyq4qpAw4IARUAAIhCGAFwAcABBg==&rs=AOn4CLDlKx_eTvG3WkYofZyezHSk8nYEAA" alt="Thumbnail Title">
        </div>
        <div class="ml-4">
            <h3 class="text-lg [font-weight:500]">
                Curso introductorio a Next.js 14 con App Router
            </h3>
            <p class="text-zinc-400  text-[.9rem]">
                <span class="leading-3">
                    2 k vistas • 
                </span>
                <span class="leading-3">
                    hace 5 meses
                </span>
            </p>
            <div class="relative group mt-14">
                <p class="text-zinc-400 text-[.9rem] leading-5">
                    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Sint odio tempore offic
                </p>
                <div class="inline-block absolute left-1/2 -translate-x-1/2 mt-2 h 12 text-xs bg-cgray-600 font-semibold p-2 rounded-md opacity-0 group-hover:opacity-100 transition-all ease-in-out delay-75 select-none">
                    De la descripción del video
                </div>
            </div>
            <div class="mt-4">
                <span class="bg-cgray-700 px-2 py-1 rounded-md text-xs font-semibold text-zinc-300">
                    Nuevo
                </span>
            </div>
        </div>
    </a>
    <a href="#" class="absolute left-[23.5rem] top-[4rem] flex items-center group">
        <div class="rounded-full overflow-hidden w-6 h-6">
            <img src="https://yt3.ggpht.com/gYD_Q2UqWmqFQrL25Xh5RdcNGYUQurAt_bT0el4g0y-cxeHEQ0WryfIxYn85jLin5t_xJwwn0A=s68-c-k-c0x00ffffff-no-rj" alt="">
        </div>
        <div class="text-xs font-semibold ml-2 text-zinc-400 group-hover:text-white">
            midudev
        </div>
    </a>
    <button @click="alert('SI FUNCIONA')" class="absolute right-0 top-0 w-6 h-6 mt-2 hidden group-hover/actions:inline-block">
        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" focusable="false" style="pointer-events: none; display: block; width: 100%; height: 100%;">
            <path fill="white" d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path>
        </svg>
    </button>
</div> {% endcomment %}